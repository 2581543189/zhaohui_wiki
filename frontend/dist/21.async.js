(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{pDn7:function(e,t,a){"use strict";var l=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var d=l(a("bx4M"));a("14J3");var n=l(a("BMrR"));a("jCWc");var u=l(a("kPKH")),c=l(a("pVnL"));a("5NDa");var f=l(a("5rEg"));a("Mwp2");var s=l(a("VXEj"));a("Telt");var i=l(a("Tckk"));a("+L6B");var m=l(a("2/Rp"));a("Pwec");var o=l(a("CtXQ"));a("y8nQ");var p=l(a("Vl3Y"));a("OaEy");var h,E,v,g=l(a("2fM7")),y=(l(a("JA3D")),r(a("q1tI"))),b=a("MuoO"),w=l(a("+5Bx")),x=l(a("wd/R")),_=(g.default.Option,p.default.Item),k={wrapperCol:{xs:{span:24},sm:{span:24},md:{span:12}}},M=(h=p.default.create({}),E=(0,b.connect)(e=>{var t=e.workbench_index,a=e.loading;return{workbench_index:t,loading:a}}),h(v=E(v=class extends y.Component{constructor(){super(...arguments),this.handleSearch=(e=>{e.preventDefault();var t=this.props,a=t.dispatch,l=t.form;l.validateFields((e,t)=>{if(!e){var l={name:t.name,avatar:t.avatar,content:t.content};a({type:"workbench_index/message_add",payload:l})}})})}componentWillMount(){var e=this.props.dispatch;e({type:"workbench_index/message_fetch"})}fetchMore(e){var t=this.props,a=t.dispatch,l=(t.form,{});l.pagination={current:e.current+1,pageSize:10,total:e.total},l.append=!0,a({type:"workbench_index/message_fetch",payload:l})}render(){var e=this.props,t=e.form,a=e.workbench_index,l=e.loading,r=t.getFieldDecorator,h=a.message,E=h.list,v=h.pagination,g=h.name,b=h.avatar,M=h.hasNext?y.default.createElement("div",{style:{textAlign:"center",marginTop:16}},y.default.createElement(m.default,{onClick:()=>{this.fetchMore(v)},style:{paddingLeft:48,paddingRight:48}},l.effects["workbench_index/message_fetch"]?y.default.createElement("span",null,y.default.createElement(o.default,{type:"loading"})," \u52a0\u8f7d\u4e2d..."):"\u52a0\u8f7d\u66f4\u591a")):null,D=E?y.default.createElement(s.default,{rowKey:"id",loading:l.effects["workbench_index/message_fetch"],loadMore:M,dataSource:E,renderItem:(e,t)=>y.default.createElement(s.default.Item,null,y.default.createElement("div",null,y.default.createElement(s.default.Item.Meta,{avatar:y.default.createElement(i.default,{src:e.avatar,shape:"square",size:"large"}),title:e.name,description:"["+(0,x.default)(e.timestamp).format("YYYY-MM-DD HH:mm:ss")+"] "+e.content})))}):null;return y.default.createElement(y.Fragment,null,y.default.createElement(d.default,{bordered:!1},y.default.createElement("div",{className:w.default.tableListForm},y.default.createElement(p.default,{layout:"inline",onSubmit:this.handleSearch},y.default.createElement(n.default,{gutter:{md:8,lg:24,xl:48}},y.default.createElement(u.default,{md:8,sm:24},y.default.createElement(_,(0,c.default)({},k,{label:"\u540d\u79f0"}),r("name",{rules:[{required:!0}],initialValue:g})(y.default.createElement(f.default,{placeholder:"\u7559\u4e0b\u59d3\u540d",style:{width:"100%"}})))),y.default.createElement(u.default,{md:16,sm:24},y.default.createElement(_,(0,c.default)({},k,{label:"\u5934\u50cfurl"}),r("avatar",{rules:[{required:!0}],initialValue:b})(y.default.createElement(f.default,{placeholder:"\u5934\u50cf\u7684url",style:{width:"100%"}}))))),y.default.createElement(n.default,{gutter:{md:8,lg:24,xl:48}},y.default.createElement(u.default,{md:24,sm:24},y.default.createElement(_,(0,c.default)({},k,{label:"\u5185\u5bb9"}),r("content",{rules:[{required:!0}]})(y.default.createElement(f.default,{placeholder:"\u8bf4\u70b9\u4ec0\u4e48",style:{width:"100%"}}))))),y.default.createElement(n.default,null,y.default.createElement(u.default,{md:8,sm:24},y.default.createElement("span",{className:w.default.submitButtons},y.default.createElement(m.default,{type:"primary",htmlType:"submit"},"\u53d1\u8868"))))))),y.default.createElement(d.default,{style:{marginTop:24},bordered:!1,bodyStyle:{padding:"8px 32px 32px 32px"}},y.default.createElement("div",{className:w.default.cardList,style:{marginTop:24}},D)))}})||v)||v),D=M;t.default=D}}]);